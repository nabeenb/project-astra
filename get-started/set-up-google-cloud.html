<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>Set up Google Cloud</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Set up Google Cloud" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/project-astra/get-started/set-up-google-cloud.html" />
	<meta property="og:description" content="A few steps are required to prepare your Google Cloud project before you can manage Google Kubernetes Engine clusters with Astra." />
  <meta property="og:image" content="https://docs.netapp.com/project-astra/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="A few steps are required to prepare your Google Cloud project before you can manage Google Kubernetes Engine clusters with Astra.">
  <meta name="keywords" content=" google cloud, google cloud platform, gcp, set up google cloud, set up gcp, set up service account, create service account, project, gcp project, permissions gcp permissions, service account permissions, key, service account key, json, key json, roles, service account roles, gcp roles, cvs, cvs for aws, cloud volumes service apis, apis, networking, cvs networking, cloud volumes service networking, private service access">
  
  <meta name="robots" content="noindex" />
  
  

  <!-- Icons -->
  <link rel="icon" href="/project-astra/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Controls AsciiDoctor Admonition Blocks -->
  <link rel="stylesheet" type="text/css" href="/project-astra/css/font-awesome.min.css">

  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/project-astra/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel="stylesheet" type="text/css" href="/project-astra/css/netapp.css">

  <!-- WWW CSS Content -->
  <link rel="stylesheet" type="text/css" href="/project-astra/css/www-luci-dotcom.min.css">
  <link rel="stylesheet" type="text/css" href="/project-astra/css/www-netapp-dotcom.css">
  <link rel="stylesheet" href="/project-astra/css/www-netapp-library-critical.min.css" media="all" >
  <link rel="stylesheet" href="/project-astra/css/www-netapp-library-non-critical.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="stylesheet" href="/project-astra/css/www-netapp-library-global-header-footer.min.css">

  <!-- NetApp IE Customizations -->
  <link rel="stylesheet" href='/project-astra/css/na-utility.css' type='text/css'>
  <link rel="stylesheet" href='/project-astra/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/project-astra/css/clouddocs.css' type='text/css'>
  <link rel='stylesheet' href='/project-astra/css/na-pagenav.css' type='text/css'>

  
  <link rel="stylesheet" href="/project-astra/css/astra.css" type="text/css">
  

  
  <link rel='stylesheet' href='/project-astra/css/na-feature.css' type='text/css'>
  


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/project-astra/js/na-search.js'></script>
  

  
  <script src='/project-astra/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/project-astra/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/project-astra/css/prism-netapp.css' type='text/css'>


<script src='/project-astra/js/na-utility.js'></script>
  <script src='/project-astra/js/clouddocs.js'></script>
  
  <script src="//assets.adobedtm.com/60287eadf1ee/c284da483c83/launch-e9ff3acac59f.min.js" async></script>
  

  <script src='/project-astra/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/project-astra/js/toc.js'></script>
  <script src='/project-astra/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>

  <!-- Controls the i18n Browser Redirection -->
  <script>
    
    var siteLocales = [];
    
      siteLocales.push("us-en");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
    
  </script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class role="document">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/project-astra/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/project-astra/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/project-astra/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search"></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>

        <div class="ie-utility">
  <div class="ie-menu">
    <div class="n-property-bar__toolbar"><!-- Start Language Selector -->
      <div id="ie-i18n" class="n-property-bar__lang-selector">
        <div id="ie-i18n-menu">
        <span class="ie-i18n-lang">English</span>
          <button class="ie-i18n-icon-container" type="button">
            <svg class="n-globe__icon" aria-labelledby="title">
              <title>globe</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#globe"></use>
            </svg>
          </button>
        </div>

        <div id="n-property-navigation-bar__menu--language-selector" class="ie-i18n-results-container n-menu n-menu--v3 n-menu--is-active" style="display: none;">
          <div class="n-language-selector-menu">
            <div class="n-language-selector-menu__header">
              <span class="n-language-selector-menu__title">Select Your Language</span>
            </div>
            <ul class="n-menu__list">
              <li class="n-menu__list-column">
                <ul class="n-menu__list">
                  
                  
                  
                  
                  <li class="n-menu__list-item n-menu__list-item--level-1">
                    <a href="/project-astra/us-en/" class="n-menu__header-text"><span translate="no" class="notranslate">English</span></a>
                  </li>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                </ul>
              </li>
            </ul>
            <div class="menu__footer">
              <p>Current Language: English
              </p>
            </div>
          </div>
        </div>
      </div>
      <!-- End Language Selector -->

      <div class="n-property-bar__cta"></div>
    </div>

    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://www.netapp.com">Home</a>
        </li>
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">Documentation</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/project-astra/">Project&nbsp;Astra</a>
        </li>
        <li class="n-breadcrumb__list-item">
          Set up Google Cloud
        </li>
      </ul>
    </div>

    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" >
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">
    Download PDF
    <span>
      <img src="/project-astra/images/pdf.png" width="20" height="20"/>
    </span>
  </a>
</div>
<ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;">
</ul>

<script>
  $("#toggleContainerPdf li.active").parents('li').toggle('display');
  $("#toggleContainerPdf li.active").parents('span.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
  });
</script><ul id="mysidebar" class="nav"></ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container -->
    <article class="page-content">
      



<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Set up Google Cloud</h1>
</div>

<p class="page-details">
  
    
    <time datetime="2020-11-16 20:08:29 +0000">11/16/2020</time>
    
  

<span>Contributors
  
  <a target="_blank" href="https://github.com/netapp-bcammett">
    <img  class="avatar avatar-small"
          alt="netapp-bcammett"
          width="20" height="20"
          src="https://avatars3.githubusercontent.com/u/18287750?v=4"
          style="border-radius: 50%;"/>
  </a>
  
  <a target="_blank" href="https://github.com/ebarcott">
    <img  class="avatar avatar-small"
          alt="ebarcott"
          width="20" height="20"
          src="https://avatars3.githubusercontent.com/u/44878916?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>


  <span>
    <a target="_blank" href="/project-astra/pdfs/pages/get-started/set-up-google-cloud.pdf" role="button">
      <img src="/project-astra/images/pdf.png" width="20" height="20"/> Download PDF of this page
    </a>
  </span>


</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A few steps are required to prepare your Google Cloud project before you can manage Google Kubernetes Engine clusters with the Astra beta program.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick-start-for-google-cloud-set-up">Quick start for Google Cloud set up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get started quickly by following these steps or scroll down to the remaining sections for full details.</p>
</div>
<div class="sect3">
<h4 id="set-up-a-google-cloud-account-and-project"><span class="image"><img src="../media/get-started/number1.png" alt="Number 1"></span> Set up a Google Cloud account and project</h4>
<div class="paragraph quick-margin-para">
<p>You need a <a href="https://console.cloud.google.com/freetrial" target="_blank" rel="noopener">Google Cloud account</a> and <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects" target="_blank" rel="noopener">a project</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-a-service-account-that-has-the-required-permissions"><span class="image"><img src="../media/get-started/number2.png" alt="Number 2"></span> Create a service account that has the required permissions</h4>
<div class="paragraph quick-margin-para">
<p>Create a Google Cloud service account that has the following permissions:</p>
</div>
<div class="ulist quick-margin-list">
<ul>
<li>
<p>Kubernetes Engine Admin</p>
</li>
<li>
<p>NetApp Cloud Volumes Admin</p>
</li>
<li>
<p>Storage Admin</p>
</li>
<li>
<p>Service Usage Viewer</p>
</li>
<li>
<p>Compute Network Viewer</p>
</li>
</ul>
</div>
<div class="paragraph quick-margin-para">
<p><a href="#create-a-service-account">Read step-by-step instructions</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-a-service-account-key"><span class="image"><img src="../media/get-started/number3.png" alt="Number 3"></span> Create a service account key</h4>
<div class="paragraph quick-margin-para">
<p>Create a key for the service account and save the key file in a secure location. <a href="#create-a-service-account-key-2">Follow step-by-step instructions</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="enable-apis-in-your-google-cloud-project"><span class="image"><img src="../media/get-started/number4.png" alt="Number 4"></span> Enable APIs in your Google Cloud project</h4>
<div class="paragraph quick-margin-para">
<p>Enable the following Google Cloud APIs:</p>
</div>
<div class="ulist quick-margin-list">
<ul>
<li>
<p>Google Kubernetes Engine</p>
</li>
<li>
<p>Cloud Storage</p>
</li>
<li>
<p>Cloud Storage JSON API</p>
</li>
<li>
<p>Service Usage</p>
</li>
<li>
<p>Cloud Resource Manager API</p>
</li>
<li>
<p>NetApp Cloud Volumes Service</p>
</li>
<li>
<p>Service Consumer Management API</p>
</li>
<li>
<p>Service Networking API</p>
</li>
<li>
<p>Service Management API</p>
</li>
<li>
<p>Service Consumer Management API</p>
</li>
</ul>
</div>
<div class="paragraph quick-margin-para">
<p><a href="#enable-apis-in-your-project">Follow step-by-step instructions</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="enable-private-services-access"><span class="image"><img src="../media/get-started/number5.png" alt="Number 5"></span> Enable private services access</h4>
<div class="paragraph quick-margin-para">
<p>Set up private services access for Cloud Volumes Service for Google Cloud. <a href="#enable-private-services-access-2">Follow step-by-step instructions</a>.</p>
</div>
<div class="paragraph">
<p>The following image depicts each of these steps that you&#8217;ll need to complete.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../media/get-started/diagram-google-cloud.png" alt="A conceptual diagram that shows a Google Cloud project" width="a service account with IAM roles and a key" height="enabled APIs"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-service-account">Create a service account</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Astra uses a Google Cloud service account to facilitate Kubernetes application data management on your behalf.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Go to Google Cloud and <a href="https://cloud.google.com/iam/docs/creating-managing-service-accounts#creating_a_service_account" target="_blank" rel="noopener">create a service account by using the console, gcloud command, or another preferred method</a>.</p>
</li>
<li>
<p>Grant the service account the following roles:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Kubernetes Engine Admin</strong> - Used to list clusters and create admin access to manage apps.</p>
</li>
<li>
<p><strong>NetApp Cloud Volumes Admin</strong> - Used to manage persistent storage for apps.</p>
</li>
<li>
<p><strong>Storage Admin</strong> - Used to manage buckets and objects for backups of apps.</p>
</li>
<li>
<p><strong>Service Usage Viewer</strong> - Used to check if the required Cloud Volumes Service for Google Cloud APIs are enabled.</p>
</li>
<li>
<p><strong>Compute Network Viewer</strong> - Used to check if the Kubernetes VPC is allowed to reach Cloud Volumes Service for Google Cloud.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you&#8217;d like to use gcloud, you can follow steps from within the Astra user interface. Click <strong>Account &gt; Credentials &gt; Add Credentials</strong>, and then click <strong>Instructions</strong>.</p>
</div>
<div class="paragraph">
<p>If you&#8217;d like to use the Google Cloud console, the following video shows how to create the service account from the console.</p>
</div>
<div class="videoblock">
<div class="content">
<video src="../media/get-started/video-create-gcp-service-account.mp4" width="848" height="480" controls>
Your browser does not support the video tag.
</video>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-service-account-key-2">Create a service account key</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Instead of providing a user name and password to Astra, you&#8217;ll provide a service account key when you add your first cluster. Astra uses the service account key to establish the identity of the service account that you just set up.</p>
</div>
<div class="paragraph">
<p>The service account key is plaintext stored in the JavaScript Object Notation (JSON) format. It contains information about the GCP resources that you have permission to access.</p>
</div>
<div class="paragraph">
<p>You can only view or download the JSON file when you create the key. However, you can create a new key at any time.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Go to Google Cloud and <a href="https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys" target="_blank" rel="noopener">create a service account key by using the console, gcloud command, or another preferred method</a>.</p>
</li>
<li>
<p>When prompted, save the service account key file in a secure location.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following video shows how to create the service account key from the Google Cloud console.</p>
</div>
<div class="videoblock">
<div class="content">
<video src="../media/get-started/video-create-gcp-service-account-key.mp4" width="848" height="480" controls>
Your browser does not support the video tag.
</video>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enable-apis-in-your-project">Enable APIs in your project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your project needs permissions to access specific Google Cloud APIs. APIs are used to interact with Google Cloud resources, such as Google Kubernetes Engine (GKE) clusters and NetApp Cloud Volumes Service storage.</p>
</div>
<div class="olist arabic">
<div class="title">Step</div>
<ol class="arabic">
<li>
<p><a href="https://cloud.google.com/endpoints/docs/openapi/enable-api" target="_blank" rel="noopener">Use the Google Cloud console or gcloud CLI to enable the following APIs</a>:</p>
<div class="ulist">
<ul>
<li>
<p>Google Kubernetes Engine</p>
</li>
<li>
<p>Cloud Storage</p>
</li>
<li>
<p>Cloud Storage JSON API</p>
</li>
<li>
<p>Service Usage</p>
</li>
<li>
<p>Cloud Resource Manager API</p>
</li>
<li>
<p>NetApp Cloud Volumes Service</p>
</li>
<li>
<p>Service Consumer Management API</p>
</li>
<li>
<p>Service Networking API</p>
</li>
<li>
<p>Service Management API</p>
<div class="paragraph">
<p>The last two APIs are required for Cloud Volumes Service for Google Cloud.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following video shows how to enable the APIs from the Google Cloud console.</p>
</div>
<div class="videoblock">
<div class="content">
<video src="../media/get-started/video-enable-gcp-apis.mp4" width="848" height="480" controls>
Your browser does not support the video tag.
</video>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;d rather use the gcloud CLI, you can use these commands after setting your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gcloud services enable container.googleapis.com
gcloud services enable storage-component.googleapis.com
gcloud services enable storage-api.googleapis.com
gcloud services enable serviceusage.googleapis.com
gcloud services enable cloudresourcemanager.googleapis.com
gcloud services enable cloudvolumesgcp-api.netapp.com
gcloud services enable serviceconsumermanagement.googleapis.com
gcloud services enable servicenetworking.googleapis.com
gcloud services enable servicemanagement.googleapis.com</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enable-private-services-access-2">Enable private services access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Astra uses Cloud Volumes Service for Google Cloud as the backend storage for your persistent volumes. Other than the APIs that you enabled in the previous step, the only other requirement is to enable private services access to Cloud Volumes Service.</p>
</div>
<div class="olist arabic">
<div class="title">Step</div>
<ol class="arabic">
<li>
<p>Set up private services access from your project to create a high-throughput and low-latency data-path connection, <a href="https://cloud.google.com/solutions/partners/netapp-cloud-volumes/setting-up-private-services-access" target="_blank" rel="noopener">as described in the Cloud Volumes Service for Google Cloud documentation</a>.</p>
</li>
</ol>
</div>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  
  <!-- Start Page Toolbar -->
  <div class="page-nav-toolbar">
    <div class="page-nav-contribute"  >
      <div class="page-nav-contribute-title">CONTRIBUTE</div>
      <a target="_blank" href="https://github.com/NetAppDocs/project-astra/blob/master/get-started/set-up-google-cloud.adoc" class="btn btn-default githubEditButton" role="button"><img src="/project-astra/images/github.png" class="github-icon" /> Edit on GitHub</a>
      <a target="_blank" href="https://github.com/NetAppDocs/project-astra/issues/new?body=Page%3A%20[Set up Google Cloud](https://docs.netapp.com/us-en/project-astra/get-started/set-up-google-cloud.html)" class="btn btn-default githubEditButton" role="button"><img src="/project-astra/images/github.png" class="github-icon" /> Request doc changes</a>
      <a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  >Contributor's Guide</a>
    </div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  <div style="clear: both"></div><!-- Main needs to have height -->
</div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">

        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
            <a href="https://www.netapp.com/us/legal/copyright.aspx">© 2020 NetApp</a>
            </li>
            <li class="n-footer__language">
              <!-- <a class="n-footer__corp-link modaal" href="#n-language-selector-menu" data-modaal-scope="modaal_154143812867626e487b1a03c9"> -->
              <a class="n-footer__corp-link modaal" href="#n-language-selector-menu">
                <svg class="n-icon-baseline-language" aria-labelledby="title">
                  <title>netapp-globe</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#globe"></use>
                </svg>
                English
              </a>
            </li>

</ul>
</div>
<div class="n-footer__social-links">
<ul class="n-footer__social-link-list">
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com" target="_blank" title="blog" alt="blog">
<span class="n-footer__social-link-text">blog</span>
<svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
  <title>blog@</title>
  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#blog"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/" target="_blank" title="community" alt="community">
<span class="n-footer__social-link-text">community</span>
<svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
<title>community@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#comments"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp" target="_blank" title="twitter" alt="twitter">
<span class="n-footer__social-link-text">twitter</span>
<svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
<title>twitter@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#twitter"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp" target="_blank" title="facebook" alt="facebook">
<span class="n-footer__social-link-text">facebook</span>
<svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
<title>facebook@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#facebook"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-linkedin" href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
<span class="n-footer__social-link-text">linkedin</span>
<svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
<title>linkedin@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#linkedin"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
<span class="n-footer__social-link-text">youtube</span>
<svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
<title>youtube@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#youtube"></use>
</svg>

</a>
</li>
<li class="n-footer__social-link-list-item">
<a class="n-footer__social-link" data-ntap-social="follow-slideshare" href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
<span class="n-footer__social-link-text">slideshare</span>
<svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
<title>slideshare@</title>
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/project-astra/common/svg/sprite.svg#slideshare"></use>
</svg>

</a>
</li>
</ul>
</div>

</div>
<div class="n-footer__bottom-right">
  <p class="n-footer__fine-print">


  Have feedback for our website?

  <a target="_self" href="javascript:netapp_mailto()" class="n-footer__copyright">Let us know</a>
  <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright">Announcements</a>
  </p>
</div>
</div>
</div>
</footer>

      </div>

      <!-- Elasticsearch JS -->
      <script type="text/javascript" src='/project-astra/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/project-astra/js/prism.js'></script>
      <script type="text/javascript" src='/project-astra/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/project-astra/js/www-ntap.js'></script>
  </body>

  
</html>
